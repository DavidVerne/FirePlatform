(self.webpackChunkfireplatform=self.webpackChunkfireplatform||[]).push([[877],{35878:function(e,r,t){"use strict";var n=t(72791);r.Z=()=>{const e=(0,n.useRef)(!0);return(0,n.useEffect)((()=>()=>{e.current=!1}),[]),e}},98393:function(e,r,t){"use strict";var n=t(53767),i=t(80184);r.Z=()=>(0,i.jsx)(n.Z,{direction:"row",justifyContent:"space-between"})},18714:function(e,r,t){"use strict";var n=t(72791),i=t(58258),o=t(7546),s=t(80184);const a=(0,n.forwardRef)(((e,r)=>{var t,n;let a,l,{children:d,type:c,direction:u,offset:p,scale:m}=e;switch(u){case"up":case"left":a=p,l=0;break;default:a=0,l=p}const[h,x]=(0,i.n)(a,l),[f,v]=(0,i.n)(a,l);switch(c){case"rotate":return(0,s.jsx)(o.E.div,{ref:r,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===u||"down"===u?(0,s.jsx)(o.E.div,{ref:r,animate:{y:void 0!==f?f:""},onHoverEnd:()=>v(),onHoverStart:()=>v(),children:d}):(0,s.jsx)(o.E.div,{ref:r,animate:{x:void 0!==h?h:""},onHoverEnd:()=>x(),onHoverStart:()=>x(),children:d});default:return"number"===typeof m&&(m={hover:m,tap:m}),(0,s.jsx)(o.E.div,{ref:r,whileHover:{scale:null===(t=m)||void 0===t?void 0:t.hover},whileTap:{scale:null===(n=m)||void 0===n?void 0:n.tap},children:d})}}));a.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},r.Z=a},45290:function(e,r,t){"use strict";var n=t(64554),i=t(23735),o=t(80184);r.Z=e=>{let{children:r,...t}=e;return(0,o.jsx)(i.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,o.jsx)(n.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:r})})}},33914:function(e,r,t){"use strict";const n=(0,t(47630).ZP)("div")((e=>{let{theme:r}=e;return{backgroundColor:r.palette.primary.light,minHeight:"100vh"}}));r.Z=n},30022:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return B}});var n=t(11087),i=t(13967),o=t(33914),s=t(45290),a=t(72791),l=t(61889),d=t(64554),c=t(94721),u=t(68096),p=t(94925),m=t(28029),h=t(47071),x=t(63466),f=t(13400),v=t(36151),Z=t(81724),g=t(92506),w=t(35878),j=t(18714),b=t(3746),y=t(20165),P=t(41202),C=t.n(P),S=t(78687),z=t(80184);var R=(0,S.$j)((e=>({username:e.user.username})))((e=>{let{username:r,...t}=e;const n=(0,i.Z)(),o=(0,w.Z)(),[s,P]=(0,a.useState)(!1),[S,R]=(0,a.useState)(!1),[E,I]=(0,a.useState)(null),$=()=>{P(!s)},k=()=>{R(!S)},M=e=>{e.preventDefault()},[B,F]=(0,a.useState)({username:r,verificationCode:"",password:"",confirmPassword:""}),[L,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const{verificationCode:e,password:r,confirmPassword:t}=B,n=r===t&&""!==r&&""!==e&&e.length>=6;N(n)}),[B]);const q=e=>{const{name:r,value:t}=e.target;F((e=>({...e,[r]:t})))},H=async e=>{e.preventDefault();try{const e=new(C().Lambda),r={verificationCode:B.verificationCode,username:B.username,password:B.password},t={FunctionName:"resetPassword",InvocationType:"RequestResponse",Payload:JSON.stringify(r)},n=await e.invoke(t).promise(),i=JSON.parse(n.Payload);i.success?(console.error("User registration successful:",i.success),I("Password successfully changed.")):(console.error("User registration failed:",i.error),I("Failed to change password. Please try again."))}catch(r){console.error("Error:",r)}};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(l.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsxs)(d.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,z.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,z.jsx)(c.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center"})]}),(0,z.jsx)(g.J9,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:Z.Ry().shape({verificationCode:Z.Z_().min(6,"Verification code must be at least 6 characters").max(6).required("Cannot be empty"),password:Z.Z_().min(8,"Password must be at least 8 characters").required("Password is required"),confirmPassword:Z.Z_().oneOf([Z.iH("password"),null],"Passwords must match").required("Confirm password is required")}),onSubmit:async(e,r)=>{let{setErrors:t,setStatus:n,setSubmitting:i}=r;try{o.current&&(n({success:!0}),i(!1))}catch(s){console.error(s),o.current&&(n({success:!1}),t({submit:s.message}),i(!1))}},children:e=>{let{errors:r,handleBlur:i,handleChange:o,handleSubmit:a,isSubmitting:l,touched:c,values:Z}=e;return(0,z.jsxs)("form",{noValidate:!0,onSubmit:H,...t,children:[(0,z.jsxs)(u.Z,{fullWidth:!0,error:Boolean(c.verificationCode&&r.verificationCode),sx:{...n.typography.customInput},children:[(0,z.jsx)(p.Z,{htmlFor:"outlined-adornment-verificationCode-register",children:"Verification code"}),(0,z.jsx)(m.Z,{sx:{fontSize:"20px"},id:"outlined-adornment-verificationCode-register",type:"text",value:Z.verificationCode,name:"verificationCode",onBlur:i,onChange:e=>{e.target.value.length<=6&&(o(e),q(e))},inputProps:{maxLength:6}}),c.verificationCode&&r.verificationCode&&(0,z.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.verificationCode})]}),(0,z.jsxs)(u.Z,{fullWidth:!0,error:Boolean(c.password&&r.password),sx:{...n.typography.customInput},children:[(0,z.jsx)(p.Z,{htmlFor:"outlined-adornment-password",children:"Password"}),(0,z.jsx)(m.Z,{id:"outlined-adornment-password",type:s?"text":"password",value:B.password,name:"password",onBlur:i,onChange:e=>{o(e),q(e)},required:!0,endAdornment:(0,z.jsx)(x.Z,{position:"end",children:(0,z.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:$,onMouseDown:M,edge:"end",size:"large",children:s?(0,z.jsx)(b.Z,{}):(0,z.jsx)(y.Z,{})})}),label:"Password",inputProps:{}}),c.password&&r.password&&(0,z.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-password",children:r.password})]}),(0,z.jsxs)(u.Z,{fullWidth:!0,error:Boolean(c.confirmPassword&&r.confirmPassword),sx:{...n.typography.customInput},children:[(0,z.jsx)(p.Z,{htmlFor:"outlined-adornment-confirm-password",children:"Confirm password"}),(0,z.jsx)(m.Z,{id:"outlined-adornment-confirm-password",type:S?"text":"password",value:B.confirmPassword,name:"confirmPassword",onBlur:i,onChange:e=>{o(e),q(e)},required:!0,endAdornment:(0,z.jsx)(x.Z,{position:"end",children:(0,z.jsx)(f.Z,{"aria-label":"toggle confirm password visibility",onClick:k,onMouseDown:M,edge:"end",size:"large",children:S?(0,z.jsx)(b.Z,{}):(0,z.jsx)(y.Z,{})})}),label:"Confirm password",inputProps:{}}),c.confirmPassword&&r.confirmPassword&&(0,z.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-confirm-password",children:r.confirmPassword})]}),r.submit&&(0,z.jsx)(d.Z,{sx:{mt:3},children:(0,z.jsx)(h.Z,{error:!0,children:r.submit})}),(0,z.jsx)(d.Z,{sx:{mt:2},children:(0,z.jsx)(j.Z,{children:(0,z.jsx)(v.Z,{disableElevation:!0,disabled:!L,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Submit"})})})]})}}),E&&(0,z.jsx)("div",{className:"success-message",children:E})]})})),E=t(27514),I=t(98393),$=t(95193),k=t(53767),M=t(20890);var B=()=>{const e=(0,i.Z)(),r=(0,$.Z)(e.breakpoints.down("md"));return(0,z.jsx)(o.Z,{children:(0,z.jsxs)(l.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsx)(l.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,z.jsx)(l.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,z.jsx)(s.Z,{children:(0,z.jsxs)(l.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,z.jsx)(l.ZP,{item:!0,sx:{mb:3},children:(0,z.jsx)(n.rU,{to:"#",children:(0,z.jsx)(E.Z,{})})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsx)(l.ZP,{container:!0,direction:r?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,z.jsx)(l.ZP,{item:!0,children:(0,z.jsxs)(k.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,z.jsx)(M.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:r?"h3":"h2",children:"Reset Password"}),(0,z.jsx)(M.Z,{variant:"caption",fontSize:"16px",textAlign:"center",children:"A verification code was sent to your email. Please enter it below along with your new password."})]})})})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsx)(R,{})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsx)(c.Z,{})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,children:(0,z.jsx)(l.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:(0,z.jsx)(M.Z,{component:n.rU,to:"/login/",variant:"subtitle1",sx:{textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Return to login"})})})]})})})})}),(0,z.jsx)(l.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,z.jsx)(I.Z,{})})]})})}},3746:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");r.Z=s},20165:function(e,r,t){"use strict";var n=t(64836);r.Z=void 0;var i=n(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");r.Z=s},13400:function(e,r,t){"use strict";t.d(r,{Z:function(){return w}});var n=t(63366),i=t(87462),o=t(72791),s=t(28182),a=t(94419),l=t(12065),d=t(47630),c=t(93736),u=t(50533),p=t(14036),m=t(75878),h=t(21217);function x(e){return(0,h.Z)("MuiIconButton",e)}var f=(0,m.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),v=t(80184);const Z=["edge","children","className","color","disabled","disableFocusRipple","size"],g=(0,d.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r[`color${(0,p.Z)(t.color)}`],t.edge&&r[`edge${(0,p.Z)(t.edge)}`],r[`size${(0,p.Z)(t.size)}`]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:r,ownerState:t}=e;var n;const o=null==(n=(r.vars||r).palette)?void 0:n[t.color];return(0,i.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,i.Z)({color:null==o?void 0:o.main},!t.disableRipple&&{"&:hover":(0,i.Z)({},o&&{backgroundColor:r.vars?`rgba(${o.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,l.Fq)(o.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{[`&.${f.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})}));var w=o.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:d,color:u="default",disabled:m=!1,disableFocusRipple:h=!1,size:f="medium"}=t,w=(0,n.Z)(t,Z),j=(0,i.Z)({},t,{edge:o,color:u,disabled:m,disableFocusRipple:h,size:f}),b=(e=>{const{classes:r,disabled:t,color:n,edge:i,size:o}=e,s={root:["root",t&&"disabled","default"!==n&&`color${(0,p.Z)(n)}`,i&&`edge${(0,p.Z)(i)}`,`size${(0,p.Z)(o)}`]};return(0,a.Z)(s,x,r)})(j);return(0,v.jsx)(g,(0,i.Z)({className:(0,s.Z)(b.root,d),centerRipple:!0,focusRipple:!h,disabled:m,ref:r,ownerState:j},w,{children:l}))}))},63466:function(e,r,t){"use strict";t.d(r,{Z:function(){return b}});var n=t(63366),i=t(87462),o=t(72791),s=t(28182),a=t(94419),l=t(14036),d=t(20890),c=t(93840),u=t(52930),p=t(47630),m=t(75878),h=t(21217);function x(e){return(0,h.Z)("MuiInputAdornment",e)}var f,v=(0,m.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Z=t(93736),g=t(80184);const w=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`position${(0,l.Z)(t.position)}`],!0===t.disablePointerEvents&&r.disablePointerEvents,r[t.variant]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===t.variant&&{[`&.${v.positionStart}&:not(.${v.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})}));var b=o.forwardRef((function(e,r){const t=(0,Z.Z)({props:e,name:"MuiInputAdornment"}),{children:p,className:m,component:h="div",disablePointerEvents:v=!1,disableTypography:b=!1,position:y,variant:P}=t,C=(0,n.Z)(t,w),S=(0,u.Z)()||{};let z=P;P&&S.variant,S&&!z&&(z=S.variant);const R=(0,i.Z)({},t,{hiddenLabel:S.hiddenLabel,size:S.size,disablePointerEvents:v,position:y,variant:z}),E=(e=>{const{classes:r,disablePointerEvents:t,hiddenLabel:n,position:i,size:o,variant:s}=e,d={root:["root",t&&"disablePointerEvents",i&&`position${(0,l.Z)(i)}`,s,n&&"hiddenLabel",o&&`size${(0,l.Z)(o)}`]};return(0,a.Z)(d,x,r)})(R);return(0,g.jsx)(c.Z.Provider,{value:null,children:(0,g.jsx)(j,(0,i.Z)({as:h,ownerState:R,className:(0,s.Z)(E.root,m),ref:r},C,{children:"string"!==typeof p||b?(0,g.jsxs)(o.Fragment,{children:["start"===y?f||(f=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,p]}):(0,g.jsx)(d.Z,{color:"text.secondary",children:p})}))})}))},71359:function(){}}]);
//# sourceMappingURL=877.91e077dc.chunk.js.map