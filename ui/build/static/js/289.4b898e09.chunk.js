(self.webpackChunkfireplatform=self.webpackChunkfireplatform||[]).push([[289],{98393:function(e,n,t){"use strict";var i=t(53767),r=t(80184);n.Z=()=>(0,r.jsx)(i.Z,{direction:"row",justifyContent:"space-between"})},18714:function(e,n,t){"use strict";var i=t(72791),r=t(58258),s=t(7546),o=t(80184);const a=(0,i.forwardRef)(((e,n)=>{var t,i;let a,c,{children:l,type:d,direction:u,offset:x,scale:h}=e;switch(u){case"up":case"left":a=x,c=0;break;default:a=0,c=x}const[m,f]=(0,r.n)(a,c),[v,j]=(0,r.n)(a,c);switch(d){case"rotate":return(0,o.jsx)(s.E.div,{ref:n,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:l});case"slide":return"up"===u||"down"===u?(0,o.jsx)(s.E.div,{ref:n,animate:{y:void 0!==v?v:""},onHoverEnd:()=>j(),onHoverStart:()=>j(),children:l}):(0,o.jsx)(s.E.div,{ref:n,animate:{x:void 0!==m?m:""},onHoverEnd:()=>f(),onHoverStart:()=>f(),children:l});default:return"number"===typeof h&&(h={hover:h,tap:h}),(0,o.jsx)(s.E.div,{ref:n,whileHover:{scale:null===(t=h)||void 0===t?void 0:t.hover},whileTap:{scale:null===(i=h)||void 0===i?void 0:i.tap},children:l})}}));a.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},n.Z=a},45290:function(e,n,t){"use strict";var i=t(64554),r=t(23735),s=t(80184);n.Z=e=>{let{children:n,...t}=e;return(0,s.jsx)(r.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...t,children:(0,s.jsx)(i.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})})}},33914:function(e,n,t){"use strict";const i=(0,t(47630).ZP)("div")((e=>{let{theme:n}=e;return{backgroundColor:n.palette.primary.light,minHeight:"100vh"}}));n.Z=i},89688:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var i=t(72791),r=t(11087),s=t(13967),o=t(33914),a=t(45290),c=t(95193),l=t(61889),d=t(64554),u=t(94721),x=t(68096),h=t(94925),m=t(28029),f=t(47071),v=t(36151),j=t(81724),p=t(92506),Z=t(18714),g=t(41202),y=t.n(g),C=t(78687),b=t(80184);var P=(0,C.$j)((e=>({username:e.user.username})))((e=>{let{username:n,...t}=e;const o=(0,s.Z)(),a=(0,c.Z)(o.breakpoints.down("md")),[g,C]=(0,i.useState)(null),[P,w]=(0,i.useState)({username:n,verificationCode:""}),k=async e=>{e.preventDefault();const n=new(y().Lambda),t={FunctionName:"authorizeUser",InvocationType:"RequestResponse",Payload:JSON.stringify({username:P.username,verificationCode:P.verificationCode})};try{const e=await n.invoke(t).promise();JSON.parse(e.Payload).success?C((0,b.jsxs)(b.Fragment,{children:["Authorization successful. You can now"," ",(0,b.jsx)(r.rU,{to:"/login",children:"log in"}),"."]})):C("Authorization failed. Please request a new verification code.")}catch(i){console.error("Error invoking Lambda:",i)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)(d.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,b.jsx)(u.Z,{sx:{flexGrow:1},orientation:"horizontal"}),(0,b.jsx)(u.Z,{sx:{flexGrow:1},orientation:"horizontal"})]})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center"})]}),(0,b.jsx)(p.J9,{initialValues:{verificationCode:"",submit:null},validationSchema:j.Ry().shape({verificationCode:j.Z_().min(6,"Verification code must be at least 6 characters").max(6).required("Cannot be empty")}),children:e=>{let{errors:n,handleBlur:i,handleChange:r,handleSubmit:s,isSubmitting:c,touched:u,values:j}=e;return(0,b.jsxs)("form",{noValidate:!0,onSubmit:k,...t,children:[(0,b.jsx)(l.ZP,{container:!0,spacing:a?0:2,children:(0,b.jsx)(l.ZP,{item:!0,xs:12,sm:12,children:(0,b.jsxs)(x.Z,{fullWidth:!0,error:Boolean(u.verificationCode&&n.verificationCode),sx:{...o.typography.customInput},children:[(0,b.jsx)(h.Z,{htmlFor:"outlined-adornment-verificationCode-register",children:"Verification Code"}),(0,b.jsx)(m.Z,{sx:{fontSize:"20px"},type:"text",value:j.verificationCode,name:"verificationCode",onBlur:i,onChange:e=>{e.target.value.length<=6&&(r(e),(e=>{const{name:n,value:t}=e.target;w((e=>({...e,[n]:t})))})(e))},inputProps:{maxLength:6}}),u.verificationCode&&n.verificationCode&&(0,b.jsx)(f.Z,{error:!0,id:"standard-weight-helper-text--register",children:n.verificationCode})]})})}),(0,b.jsx)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,b.jsx)(l.ZP,{item:!0})}),n.submit&&(0,b.jsx)(d.Z,{sx:{mt:3},children:(0,b.jsx)(f.Z,{error:!0,children:n.submit})}),(0,b.jsx)(d.Z,{sx:{mt:2},children:(0,b.jsx)(Z.Z,{children:(0,b.jsx)(v.Z,{disableElevation:!0,disabled:6!==j.verificationCode.length,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Submit"})})})]})}}),g&&(0,b.jsx)("div",{className:"success-message",children:g})]})})),w=t(27514),k=t(98393),S=t(53767),I=t(20890);var E=(0,C.$j)((e=>({username:e.user.username})))((e=>{const n=(0,s.Z)(),t=(0,c.Z)(n.breakpoints.down("md")),[d,x]=(0,i.useState)(null);console.log("username: ",e);return(0,b.jsx)(o.Z,{children:(0,b.jsxs)(l.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(l.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,b.jsx)(l.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,b.jsx)(a.Z,{children:(0,b.jsxs)(l.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,b.jsx)(l.ZP,{item:!0,sx:{mb:3},children:(0,b.jsx)(r.rU,{to:"#",children:(0,b.jsx)(w.Z,{})})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(l.ZP,{container:!0,direction:t?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(l.ZP,{item:!0,children:(0,b.jsx)(S.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:(0,b.jsx)(I.Z,{color:n.palette.secondary.main,gutterBottom:!0,variant:t?"h3":"h2",children:"Enter verification code"})})})})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(P,{})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(u.Z,{})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)(l.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:[(0,b.jsx)(v.Z,{sx:{textDecoration:"none",backgroundColor:"transparent","&:hover":{textDecoration:"underline",backgroundColor:"transparent"}},id:"resend-verification-button",onClick:async n=>{n.preventDefault();const t=new(y().Lambda),i={FunctionName:"resendVerificationCode",InvocationType:"RequestResponse",Payload:JSON.stringify({username:e})};try{const e=await t.invoke(i).promise();JSON.parse(e.Payload).success?x("A new verification code has been sent to your email."):x("Request failed. Please return to the sign up page.")}catch(r){console.error("Error invoking Lambda:",r)}},variant:"subtitle1",children:"Resend verification code"}),d&&(0,b.jsx)("div",{className:"success-message",children:d})]})})]})})})})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,b.jsx)(k.Z,{})})]})})}))},71359:function(){}}]);
//# sourceMappingURL=289.4b898e09.chunk.js.map